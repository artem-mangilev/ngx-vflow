import{a as sn}from"./chunk-NGK3AQVU.js";import{a as en}from"./chunk-DCQJENBY.js";import{A as f,j as W,l as K,t as X,y as nn}from"./chunk-UZDESVOV.js";import{a as J}from"./chunk-R2FYFHTZ.js";import"./chunk-FGWLUFMG.js";import{a as R}from"./chunk-JLOZFYHF.js";import{Ba as L,Ea as V,Fa as y,Ga as U,Ia as B,L as O,O as m,R as D,Ra as C,S as M,Sa as g,T as j,Ta as c,Za as h,_ as N,bb as Y,db as $,eb as G,ga as p,gb as Q,ha as i,hb as Z,jb as w,na as z,oa as o,pb as q,qb as E,sa as b,ua as v,wc as vn,za as F}from"./chunk-VFFNGGE6.js";import{a as P,b as H,g as bn}from"./chunk-ODLL2QMY.js";var Dn=bn(vn());var rn=["move","copy","link"],_="application/x-dnd",A="application/json",I="Text";function pn(e){return e.substr(0,_.length)===_}function on(e){if(e.dataTransfer){let a=e.dataTransfer.types;if(!a)return I;for(let n=0;n<a.length;n++)if(a[n]===I||a[n]===A||pn(a[n]))return a[n]}return null}function yn(e,a,n){let s=_+(a.type?"-"+a.type:""),t=JSON.stringify(a);try{e.dataTransfer?.setData(s,t)}catch{try{e.dataTransfer?.setData(A,t)}catch{let jn=x(rn,n);e.dataTransfer&&(e.dataTransfer.effectAllowed=jn[0]),e.dataTransfer?.setData(I,t)}}}function Cn(e,a){let n=on(e);return a===!0?n!==null&&pn(n)?JSON.parse(e.dataTransfer?.getData(n)??"{}"):{}:n!==null?JSON.parse(e.dataTransfer?.getData(n)??"{}"):{}}function x(e,a){return a==="all"||a==="uninitialized"?e:e.filter(function(n){return a.toLowerCase().indexOf(n)!==-1})}function wn(e,a){let n=a;for(;n.parentNode!==e;){if(!n.parentNode)return null;n=n.parentNode}return n}function En(e,a,n){let s=a.getBoundingClientRect();return n?e.clientX<s.left+s.width/2:e.clientY<s.top+s.height/2}function xn(e,a){let n=window.getComputedStyle(a),s=parseFloat(n.paddingTop)||0,t=parseFloat(n.paddingLeft)||0,r=parseFloat(n.borderTopWidth)||0,l=parseFloat(n.borderLeftWidth)||0;return{x:e.offsetX+t+l,y:e.offsetY+s+r}}function _n(e,a,n){let s=n(e,a)||{x:0,y:0};e.dataTransfer.setDragImage(a,s.x,s.y)}var d={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function In(e,a,n){d.isDragging=!0,d.dropEffect="none",d.effectAllowed=a,d.type=n,e.dataTransfer&&(e.dataTransfer.effectAllowed=a)}function an(){d.isDragging=!1,d.dropEffect=void 0,d.effectAllowed=void 0,d.type=void 0}function S(e,a){d.isDragging===!0&&(d.dropEffect=a),e.dataTransfer&&(e.dataTransfer.dropEffect=a)}function tn(e,a){let n=e.dataTransfer?e.dataTransfer.effectAllowed:"uninitialized",s=x(rn,n);return d.isDragging===!0&&(s=x(s,d.effectAllowed)),a&&(s=x(s,a)),s.length===0?"none":e.ctrlKey&&s.indexOf("copy")!==-1?"copy":e.altKey&&s.indexOf("link")!==-1?"link":s[0]}function T(e){if(d.isDragging===!0)return d.type;let a=on(e);if(a!==null&&!(a===I||a===A))return a.substr(_.length+1)||void 0}function k(){return d.isDragging===!1}var ln=d;var gn=(()=>{class e{dndDraggable;dndEffectAllowed="copy";dndType;dndDraggingClass="dndDragging";dndDraggingSourceClass="dndDraggingSource";dndDraggableDisabledClass="dndDraggableDisabled";dndDragImageOffsetFunction=xn;dndStart=new i;dndDrag=new i;dndEnd=new i;dndMoved=new i;dndCopied=new i;dndLinked=new i;dndCanceled=new i;draggable=!0;dndHandle;dndDragImageElementRef;dragImage;isDragStarted=!1;elementRef=m(p);renderer=m(b);ngZone=m(v);set dndDisableIf(n){this.draggable=!n,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}set dndDisableDragIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("drag",this.dragEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),this.isDragStarted&&an()}onDragStart(n){if(!this.draggable)return!1;if(this.dndHandle!=null&&n._dndUsingHandle==null)return n.stopPropagation(),!1;In(n,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,yn(n,{data:this.dndDraggable,type:this.dndType},ln.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),(this.dndDragImageElementRef!=null||n._dndUsingHandle!=null)&&_n(n,this.dragImage,this.dndDragImageOffsetFunction);let s=this.renderer.listen(this.elementRef.nativeElement,"drag",()=>{this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggingSourceClass),s()});return this.dndStart.emit(n),n.stopPropagation(),setTimeout(()=>{this.renderer.setStyle(this.dragImage,"pointer-events","none")},100),!0}onDrag(n){this.dndDrag.emit(n)}onDragEnd(n){if(!this.draggable||!this.isDragStarted)return;let s=ln.dropEffect;this.renderer.setStyle(this.dragImage,"pointer-events","unset");let t;switch(s){case"copy":t=this.dndCopied;break;case"link":t=this.dndLinked;break;case"move":t=this.dndMoved;break;default:t=this.dndCanceled;break}t.emit(n),this.dndEnd.emit(n),an(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout(()=>{this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggingSourceClass)},0),n.stopPropagation()}registerDragHandle(n){this.dndHandle=n}registerDragImage(n){this.dndDragImageElementRef=n}dragEventHandler=n=>this.onDrag(n);determineDragImage(){return typeof this.dndDragImageElementRef<"u"?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}static \u0275fac=function(s){return new(s||e)};static \u0275dir=j({type:e,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(s,t){s&1&&h("dragstart",function(l){return t.onDragStart(l)})("dragend",function(l){return t.onDragEnd(l)}),s&2&&y("draggable",t.draggable)},inputs:{dndDraggable:"dndDraggable",dndEffectAllowed:"dndEffectAllowed",dndType:"dndType",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"},standalone:!0})}return e})(),Rn=(()=>{class e{elementRef;constructor(n){this.elementRef=n}ngOnInit(){this.elementRef.nativeElement.style.pointerEvents="none"}static \u0275fac=function(s){return new(s||e)(o(p))};static \u0275dir=j({type:e,selectors:[["","dndPlaceholderRef",""]],standalone:!0})}return e})(),cn=(()=>{class e{ngZone;elementRef;renderer;dndDropzone="";dndEffectAllowed="uninitialized";dndAllowExternal=!1;dndHorizontal=!1;dndDragoverClass="dndDragover";dndDropzoneDisabledClass="dndDropzoneDisabled";dndDragover=new i;dndDrop=new i;dndPlaceholderRef;placeholder=null;disabled=!1;constructor(n,s,t){this.ngZone=n,this.elementRef=s,this.renderer=t}set dndDisableIf(n){this.disabled=n,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}set dndDisableDropIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.addEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragEnter(n){if(n._dndDropzoneActive===!0){this.cleanupDragoverState();return}if(n._dndDropzoneActive==null){let t=document.elementFromPoint(n.clientX,n.clientY);this.elementRef.nativeElement.contains(t)&&(n._dndDropzoneActive=!0)}let s=T(n);this.isDropAllowed(s)&&n.preventDefault()}onDragOver(n){if(n.defaultPrevented)return;let s=T(n);if(!this.isDropAllowed(s))return;this.checkAndUpdatePlaceholderPosition(n);let t=tn(n,this.dndEffectAllowed);if(t==="none"){this.cleanupDragoverState();return}n.preventDefault(),S(n,t),this.dndDragover.emit(n),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)}onDrop(n){try{let s=T(n);if(!this.isDropAllowed(s))return;let t=Cn(n,k());if(!this.isDropAllowed(t.type))return;n.preventDefault();let r=tn(n);if(S(n,r),r==="none")return;let l=this.getPlaceholderIndex();if(l===-1)return;this.dndDrop.emit({event:n,dropEffect:r,isExternal:k(),data:t.data,index:l,type:s}),n.stopPropagation()}finally{this.cleanupDragoverState()}}onDragLeave(n){if(n.preventDefault(),n.stopPropagation(),n._dndDropzoneActive==null&&this.elementRef.nativeElement.contains(n.relatedTarget)){n._dndDropzoneActive=!0;return}this.cleanupDragoverState(),S(n,"none")}dragEnterEventHandler=n=>this.onDragEnter(n);dragOverEventHandler=n=>this.onDragOver(n);dragLeaveEventHandler=n=>this.onDragLeave(n);isDropAllowed(n){if(this.disabled||k()&&!this.dndAllowExternal)return!1;if(!this.dndDropzone||!n)return!0;if(!Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return this.dndDropzone.indexOf(n)!==-1}tryGetPlaceholder(){return typeof this.dndPlaceholderRef<"u"?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}removePlaceholderFromDOM(){this.placeholder!==null&&this.placeholder.parentNode!==null&&this.placeholder.parentNode.removeChild(this.placeholder)}checkAndUpdatePlaceholderPosition(n){if(this.placeholder===null)return;this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);let s=wn(this.elementRef.nativeElement,n.target);if(s===null||s===this.placeholder)return;En(n,s,this.dndHorizontal)?s.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,s):s.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,s.nextSibling)}getPlaceholderIndex(){if(this.placeholder===null)return;let n=this.elementRef.nativeElement;return Array.prototype.indexOf.call(n.children,this.placeholder)}cleanupDragoverState(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}static \u0275fac=function(s){return new(s||e)(o(v),o(p),o(b))};static \u0275dir=j({type:e,selectors:[["","dndDropzone",""]],contentQueries:function(s,t,r){if(s&1&&Y(r,Rn,5),s&2){let l;$(l=G())&&(t.dndPlaceholderRef=l.first)}},hostBindings:function(s,t){s&1&&h("drop",function(l){return t.onDrop(l)})},inputs:{dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed",dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"},standalone:!0})}return e})();var hn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=M({type:e});static \u0275inj=O({})}return e})();function Tn(e,a){if(e&1&&(C(0,"div",6)(1,"button",7),w(2,"Select here"),g(),c(3,"handle",8)(4,"handle",9),g()),e&2){let n=a.$implicit;B("custom-node_selected",n.selected())}}function kn(e,a){if(e&1&&(N(),c(0,"path",10)),e&2){let n=a.$implicit;y("d",n.path())("stroke",n.selected()?"#0f4c75":"#bbe1fa")}}var fn=(()=>{class e{constructor(){this.vflow=F.required(f),this.nodes=[{id:crypto.randomUUID(),point:{x:10,y:150},type:"html-template"}],this.edges=[]}createNode({event:n}){let s=this.vflow().documentPointToFlowPoint({x:n.x,y:n.y});this.nodes=[...this.nodes,{id:crypto.randomUUID(),point:s,type:"html-template"}]}connect({source:n,target:s}){this.edges=[...this.edges,{id:`${n} -> ${s}`,source:n,target:s}]}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=D({type:e,selectors:[["ng-component"]],viewQuery:function(s,t){s&1&&Q(t.vflow,f,5),s&2&&Z()},standalone:!0,features:[E],decls:8,vars:2,consts:[[1,"sidebar"],["dndDraggable","",1,"custom-node","custom-node_draggable"],[1,"custom-node__button"],["view","auto","dndDropzone","",3,"dndDrop","onConnect","nodes","edges"],["nodeHtml",""],["edge",""],[1,"custom-node"],["selectable","",1,"custom-node__button"],["type","source","position","right"],["type","target","position","left"],["selectable","","fill","none","stroke-width","2"]],template:function(s,t){s&1&&(C(0,"div",0)(1,"div",1)(2,"button",2),w(3,"Drag here"),g()()(),C(4,"vflow",3),h("dndDrop",function(l){return t.createNode(l)})("onConnect",function(l){return t.connect(l)}),V(5,Tn,5,2,"ng-template",4)(6,kn,1,2,"ng-template",5),g(),w(7,"`\n")),s&2&&(z(4),U("nodes",t.nodes)("edges",t.edges))},dependencies:[f,nn,en,X,K,W,hn,gn,cn],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]{padding:10px;height:100%;background-color:#3282b8}.custom-node[_ngcontent-%COMP%]{width:150px;height:100px;background:#bbe1fa;border:1px solid gray;border-radius:5px;display:flex;align-items:center;justify-content:center}.custom-node__button[_ngcontent-%COMP%]{border:0;outline:0;cursor:pointer;color:#fff;background-color:#1b262c;border-radius:4px;font-size:14px;font-weight:500;padding:4px 8px;display:inline-block;min-height:28px}.custom-node_draggable[_ngcontent-%COMP%]{width:100px;height:75px}.custom-node_selected[_ngcontent-%COMP%]{border-color:#1b262c}"],changeDetection:0})}}return e})();var An={title:"Drag and drop nodes",mdFile:"./index.md",category:sn,demos:{DragAndDropNodesDemoComponent:fn},order:2},u=An;var un=[];var Pn={DragAndDropNodesDemoComponent:[{title:"TypeScript",code:`<pre class="ngde hljs"><code lang="typescript" class="hljs language-typescript code-lines ngde"><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>, <span class="hljs-title class_ ngde">Component</span>, viewChild } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'@angular/core'</span>;
</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde">DndDropEvent</span>, <span class="hljs-title class_ ngde">DndModule</span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'ngx-drag-drop'</span>;
</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Connection" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Connection</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/variables/Vflow" class="ng-doc-code-anchor ngde" data-link-type="Variable" class="ngde">Vflow</a></span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'ngx-vflow'</span>;
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-meta ngde">@Component</span>({
</span><span class="line ngde">  <span class="hljs-attr ngde">templateUrl</span>: <span class="hljs-string ngde">'./drag-and-drop-nodes-demo.component.html'</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">styleUrls</span>: [<span class="hljs-string ngde">'./drag-and-drop-nodes-demo.component.scss'</span>],
</span><span class="line ngde">  <span class="hljs-attr ngde">changeDetection</span>: <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>.<span class="hljs-property ngde">OnPush</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">standalone</span>: <span class="hljs-literal ngde">true</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">imports</span>: [<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/variables/Vflow" class="ng-doc-code-anchor ngde" data-link-type="Variable" class="ngde">Vflow</a></span>, <span class="hljs-title class_ ngde">DndModule</span>],
</span><span class="line ngde">})
</span><span class="line ngde"><span class="hljs-keyword ngde">export</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">DragAndDropNodesDemoComponent</span> {
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> vflow = viewChild.required(<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>);
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">nodes</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>[] = [
</span><span class="line ngde">    {
</span><span class="line ngde">      <span class="hljs-attr ngde">id</span>: crypto.<span class="hljs-title function_ ngde">randomUUID</span>(),
</span><span class="line ngde">      <span class="hljs-attr ngde">point</span>: { <span class="hljs-attr ngde">x</span>: <span class="hljs-number ngde">10</span>, <span class="hljs-attr ngde">y</span>: <span class="hljs-number ngde">150</span> },
</span><span class="line ngde">      <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">'html-template'</span>,
</span><span class="line ngde">    },
</span><span class="line ngde">  ];
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">edges</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>[] = [];
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-title function_ ngde">createNode</span>(<span class="hljs-params ngde">{ event }: DndDropEvent</span>) {
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> point = <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">vflow</span>().<span class="hljs-title function_ ngde">documentPointToFlowPoint</span>({
</span><span class="line ngde">      <span class="hljs-attr ngde">x</span>: event.<span class="hljs-property ngde">x</span>,
</span><span class="line ngde">      <span class="hljs-attr ngde">y</span>: event.<span class="hljs-property ngde">y</span>,
</span><span class="line ngde">    });
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">nodes</span> = [
</span><span class="line ngde">      ...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">nodes</span>,
</span><span class="line ngde">      {
</span><span class="line ngde">        <span class="hljs-attr ngde">id</span>: crypto.<span class="hljs-title function_ ngde">randomUUID</span>(),
</span><span class="line ngde">        point,
</span><span class="line ngde">        <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">'html-template'</span>,
</span><span class="line ngde">      },
</span><span class="line ngde">    ];
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-title function_ ngde">connect</span>(<span class="hljs-params ngde">{ source, target }: <a href="/api/ngx-vflow/interfaces/Connection" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Connection</a></span>) {
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">edges</span> = [
</span><span class="line ngde">      ...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">edges</span>,
</span><span class="line ngde">      {
</span><span class="line ngde">        <span class="hljs-attr ngde">id</span>: <span class="hljs-string ngde">\`<span class="hljs-subst ngde">\${source}</span> -> <span class="hljs-subst ngde">\${target}</span>\`</span>,
</span><span class="line ngde">        source,
</span><span class="line ngde">        target,
</span><span class="line ngde">      },
</span><span class="line ngde">    ];
</span><span class="line ngde">  }
</span><span class="line ngde">}
</span></code></pre>`},{title:"HTML",code:`<pre class="ngde hljs"><code lang="html" class="hljs language-html code-lines ngde"><span class="line ngde"><span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">div</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"sidebar"</span>></span>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">div</span> <span class="hljs-attr ngde">dndDraggable</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node custom-node_draggable"</span>></span>
</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">button</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node__button"</span>></span>Drag here<span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">button</span>></span>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>
</span><span class="line ngde"><span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>
</span><span class="line ngde">
</span><span class="line ngde">&#x3C;<span class="hljs-name ngde">vflow</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  </span><span class="hljs-attr ngde">view</span>=<span class="hljs-string ngde">"auto"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  </span><span class="hljs-attr ngde">dndDropzone</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  [</span><span class="hljs-attr ngde">nodes</span>]=<span class="hljs-string ngde">"nodes"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  [</span><span class="hljs-attr ngde">edges</span>]=<span class="hljs-string ngde">"edges"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  (</span><span class="hljs-attr ngde">dndDrop</span>)=<span class="hljs-string ngde">"createNode($event)"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">  (</span><span class="hljs-attr ngde">onConnect</span>)=<span class="hljs-string ngde">"connect($event)"</span>>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">ng-template</span> <span class="hljs-attr ngde">let-ctx</span> <span class="hljs-attr ngde">nodeHtml</span>></span>
</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">div</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node"</span> [<span class="hljs-attr ngde">class.custom-node_selected</span>]=<span class="hljs-string ngde">"ctx.selected()"</span>></span>
</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">button</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node__button"</span> <span class="hljs-attr ngde">selectable</span>></span>Select here<span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">button</span>></span>
</span><span class="line ngde">
</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"source"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"right"</span> /></span>
</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"target"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"left"</span> /></span>
</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">ng-template</span>></span>
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">ng-template</span> <span class="hljs-attr ngde">let-ctx</span> <span class="hljs-attr ngde">edge</span>></span>
</span><span class="line ngde">    &#x3C;<span class="hljs-name ngde">svg:path</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">selectable</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">fill</span>=<span class="hljs-string ngde">"none"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">stroke-width</span>=<span class="hljs-string ngde">"2"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">      [</span><span class="hljs-attr ngde">attr.d</span>]=<span class="hljs-string ngde">"ctx.path()"</span><span class="hljs-tag ngde"></span>
</span><span class="line ngde"><span class="hljs-tag ngde">      [</span><span class="hljs-attr ngde">attr.stroke</span>]=<span class="hljs-string ngde">"ctx.selected() ? '#0f4c75' : '#bbe1fa'"</span> />
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">ng-template</span>></span> &#x3C;/vflow
</span><span class="line ngde">>\`
</span></code></pre>`},{title:"SCSS",code:`<pre class="ngde hljs"><code lang="scss" class="hljs language-scss code-lines ngde"><span class="line ngde"><span class="hljs-selector-pseudo ngde">:host</span> {
</span><span class="line ngde">  <span class="hljs-attribute ngde">display</span>: flex;
</span><span class="line ngde">  <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">100%</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">100%</span>;
</span><span class="line ngde">}
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-selector-class ngde">.sidebar</span> {
</span><span class="line ngde">  <span class="hljs-attribute ngde">padding</span>: <span class="hljs-number ngde">10px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">100%</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">background-color</span>: <span class="hljs-number ngde">#3282b8</span>;
</span><span class="line ngde">}
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-selector-class ngde">.custom-node</span> {
</span><span class="line ngde">  <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">150px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">100px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">background</span>: <span class="hljs-number ngde">#bbe1fa</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">border</span>: <span class="hljs-number ngde">1px</span> solid gray;
</span><span class="line ngde">  <span class="hljs-attribute ngde">border-radius</span>: <span class="hljs-number ngde">5px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">display</span>: flex;
</span><span class="line ngde">  <span class="hljs-attribute ngde">align-items</span>: center;
</span><span class="line ngde">  <span class="hljs-attribute ngde">justify-content</span>: center;
</span><span class="line ngde">
</span><span class="line ngde">  &#x26;__button {
</span><span class="line ngde">    <span class="hljs-attribute ngde">border</span>: <span class="hljs-number ngde">0</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">outline</span>: <span class="hljs-number ngde">0</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">cursor</span>: pointer;
</span><span class="line ngde">    <span class="hljs-attribute ngde">color</span>: white;
</span><span class="line ngde">    <span class="hljs-attribute ngde">background-color</span>: <span class="hljs-number ngde">#1b262c</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">border-radius</span>: <span class="hljs-number ngde">4px</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">font-size</span>: <span class="hljs-number ngde">14px</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">font-weight</span>: <span class="hljs-number ngde">500</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">padding</span>: <span class="hljs-number ngde">4px</span> <span class="hljs-number ngde">8px</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">display</span>: inline-block;
</span><span class="line ngde">    <span class="hljs-attribute ngde">min-height</span>: <span class="hljs-number ngde">28px</span>;
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  &#x26;_draggable {
</span><span class="line ngde">    <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">100px</span>;
</span><span class="line ngde">    <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">75px</span>;
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  &#x26;_selected {
</span><span class="line ngde">    <span class="hljs-attribute ngde">border-color</span>: <span class="hljs-number ngde">#1b262c</span>;
</span><span class="line ngde">  }
</span><span class="line ngde">}
</span></code></pre>`}]},mn=Pn;var Hn='<h1 id="drag-and-drop-nodes" class="ngde">Drag and drop nodes<a title="Link to heading" class="ng-doc-header-link ngde" href="/workshops/drag-and-drop-nodes#drag-and-drop-nodes"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h1><p class="ngde">This workshop will show you how to implement dynamic node creation with basic drag and drop implementation.</p><p class="ngde">This implementation uses <code class="ngde">documentPointToFlowPoint()</code> method of <code class="ngde ng-doc-code-with-link" class="ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></code> that translates document coordinate to vflow coordinate.</p><ng-doc-demo-pane componentname="DragAndDropNodesDemoComponent" indexable="false" class="ngde"><div id="options" class="ngde">{}</div></ng-doc-demo-pane>',On=(()=>{class e extends R{constructor(){super(),this.routePrefix="",this.pageType="guide",this.pageContent=Hn,this.editSourceFileUrl="https://github.com/artem-mangilev/ngx-vflow/edit/main/projects/ngx-vflow-demo/src/app/categories/workshops/pages/drag-and-drop-nodes/index.md?message=docs(drag-and-drop-nodes): describe your changes here...",this.page=u,this.demoAssets=mn}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=D({type:e,selectors:[["ng-doc-page-workshops-drag-and-drop-nodes"]],standalone:!0,features:[q([{provide:R,useExisting:e},un,u.providers??[]]),L,E],decls:1,vars:0,template:function(s,t){s&1&&c(0,"ng-doc-page")},dependencies:[J],encapsulation:2,changeDetection:0})}}return e})(),Mn=[H(P({},(0,Dn.isRoute)(u.route)?u.route:{}),{path:"",component:On,title:"Drag and drop nodes"})],oe=Mn;export{On as DynamicComponent,oe as default};

import{m as _,p as N}from"./chunk-7LH7RTMP.js";import{$a as b,Db as l,Ea as u,Fb as D,Ga as g,O as n,Q as r,R as d,Ra as v,Sa as y,T as p,_a as w,ab as x,fa as a,ga as m,gb as S,hb as z,qb as C,ya as o,za as f,zb as T}from"./chunk-FDES3R26.js";var s=class{constructor(h){this.node=h,this.position=o("top"),this.template=o(null),this.offset=o(10),this.point=l(()=>{switch(this.position()){case"top":return{x:this.node.size().width/2-this.size().width/2,y:-this.size().height-this.offset()};case"bottom":return{x:this.node.size().width/2-this.size().width/2,y:this.node.size().height+this.offset()};case"left":return{x:-this.size().width-this.offset(),y:this.node.size().height/2-this.size().height/2};case"right":return{x:this.node.size().width+this.offset(),y:this.node.size().height/2-this.size().height/2}}}),this.transform=l(()=>`translate(${this.point().x}, ${this.point().y})`),this.size=o({width:0,height:0})}};var E=["toolbar"],F=["*"];function O(e,h){if(e&1&&(v(0,"div",1),x(1),y()),e&2){let i=w();g("model",i.model)}}var P=(()=>{class e{constructor(){this.overlaysService=n(N),this.nodeService=n(_),this.position=a("top"),this.toolbarContentTemplate=f.required("toolbar"),this.model=new s(this.nodeService.model()),D(()=>this.model.position.set(this.position()),{allowSignalWrites:!0})}ngOnInit(){this.model.template.set(this.toolbarContentTemplate()),this.overlaysService.addToolbar(this.model)}ngOnDestroy(){this.overlaysService.removeToolbar(this.model)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=d({type:e,selectors:[["node-toolbar"]],viewQuery:function(t,c){t&1&&S(c.toolbarContentTemplate,E,5),t&2&&z()},inputs:{position:[r.SignalBased,"position"]},standalone:!0,features:[C],ngContentSelectors:F,decls:2,vars:0,consts:[["toolbar",""],["nodeToolbarWrapper","",1,"wrapper",3,"model"]],template:function(t,c){t&1&&(b(),u(0,O,2,1,"ng-template",null,0,T))},dependencies:()=>[W],styles:[".wrapper[_ngcontent-%COMP%]{width:max-content}"],changeDetection:0})}}return e})(),W=(()=>{class e{constructor(){this.element=n(m),this.model=a.required()}ngOnInit(){this.model().size.set({width:this.element.nativeElement.clientWidth,height:this.element.nativeElement.clientHeight})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275dir=p({type:e,selectors:[["","nodeToolbarWrapper",""]],inputs:{model:[r.SignalBased,"model"]},standalone:!0})}}return e})();export{P as a};

"use strict";(self.webpackChunkngx_vflow_demo=self.webpackChunkngx_vflow_demo||[]).push([[316],{316:(nn,j,i)=>{i.r(j),i.d(j,{DynamicComponent:()=>R,default:()=>W});var v=i(6286),T=i(7134),A=i(9143),k=i(1314),a=i(5879);const b=["move","copy","link"],o="application/x-dnd",f="application/json",g="Text";function y(s){return s.substr(0,o.length)===o}function C(s){if(s.dataTransfer){const t=s.dataTransfer.types;if(!t)return g;for(let n=0;n<t.length;n++)if(t[n]===g||t[n]===f||y(t[n]))return t[n]}return null}function c(s,t){return"all"===t||"uninitialized"===t?s:s.filter(function(n){return-1!==t.toLowerCase().indexOf(n)})}function O(s,t){const n=window.getComputedStyle(t),e=parseFloat(n.paddingTop)||0,l=parseFloat(n.paddingLeft)||0,p=parseFloat(n.borderTopWidth)||0,d=parseFloat(n.borderLeftWidth)||0;return{x:s.offsetX+l+d,y:s.offsetY+e+p}}const r={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function w(){r.isDragging=!1,r.dropEffect=void 0,r.effectAllowed=void 0,r.type=void 0}function u(s,t){!0===r.isDragging&&(r.dropEffect=t),s.dataTransfer&&(s.dataTransfer.dropEffect=t)}function E(s,t){let e=c(b,s.dataTransfer?s.dataTransfer.effectAllowed:"uninitialized");return!0===r.isDragging&&(e=c(e,r.effectAllowed)),t&&(e=c(e,t)),0===e.length?"none":s.ctrlKey&&-1!==e.indexOf("copy")?"copy":s.altKey&&-1!==e.indexOf("link")?"link":e[0]}function m(s){if(!0===r.isDragging)return r.type;const t=C(s);return null!==t&&t!==g&&t!==f&&t.substr(o.length+1)||void 0}function D(){return!1===r.isDragging}const x=r;let F=(()=>{class s{dndDraggable;dndEffectAllowed="copy";dndType;dndDraggingClass="dndDragging";dndDraggingSourceClass="dndDraggingSource";dndDraggableDisabledClass="dndDraggableDisabled";dndDragImageOffsetFunction=O;dndStart=new a.vpe;dndDrag=new a.vpe;dndEnd=new a.vpe;dndMoved=new a.vpe;dndCopied=new a.vpe;dndLinked=new a.vpe;dndCanceled=new a.vpe;draggable=!0;dndHandle;dndDragImageElementRef;dragImage;isDragStarted=!1;elementRef=(0,a.f3M)(a.SBq);renderer=(0,a.f3M)(a.Qsj);ngZone=(0,a.f3M)(a.R0b);set dndDisableIf(n){this.draggable=!n,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}set dndDisableDragIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("drag",this.dragEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),this.isDragStarted&&w()}onDragStart(n){if(!this.draggable)return!1;if(null!=this.dndHandle&&null==n._dndUsingHandle)return n.stopPropagation(),!1;(function z(s,t,n){r.isDragging=!0,r.dropEffect="none",r.effectAllowed=t,r.type=n,s.dataTransfer&&(s.dataTransfer.effectAllowed=t)})(n,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,function S(s,t,n){const e=o+(t.type?"-"+t.type:""),l=JSON.stringify(t);try{s.dataTransfer?.setData(e,l)}catch{try{s.dataTransfer?.setData(f,l)}catch{const q=c(b,n);s.dataTransfer&&(s.dataTransfer.effectAllowed=q[0]),s.dataTransfer?.setData(g,l)}}}(n,{data:this.dndDraggable,type:this.dndType},x.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),(null!=this.dndDragImageElementRef||null!=n._dndUsingHandle)&&function N(s,t,n){const e=n(s,t)||{x:0,y:0};s.dataTransfer.setDragImage(t,e.x,e.y)}(n,this.dragImage,this.dndDragImageOffsetFunction);const e=this.renderer.listen(this.elementRef.nativeElement,"drag",()=>{this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggingSourceClass),e()});return this.dndStart.emit(n),n.stopPropagation(),setTimeout(()=>{this.renderer.setStyle(this.dragImage,"pointer-events","none")},100),!0}onDrag(n){this.dndDrag.emit(n)}onDragEnd(n){if(!this.draggable||!this.isDragStarted)return;const e=x.dropEffect;let l;switch(this.renderer.setStyle(this.dragImage,"pointer-events","unset"),e){case"copy":l=this.dndCopied;break;case"link":l=this.dndLinked;break;case"move":l=this.dndMoved;break;default:l=this.dndCanceled}l.emit(n),this.dndEnd.emit(n),w(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout(()=>{this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggingSourceClass)},0),n.stopPropagation()}registerDragHandle(n){this.dndHandle=n}registerDragImage(n){this.dndDragImageElementRef=n}dragEventHandler=n=>this.onDrag(n);determineDragImage(){return typeof this.dndDragImageElementRef<"u"?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}static \u0275fac=function(e){return new(e||s)};static \u0275dir=a.lG2({type:s,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(e,l){1&e&&a.NdJ("dragstart",function(d){return l.onDragStart(d)})("dragend",function(d){return l.onDragEnd(d)}),2&e&&a.uIk("draggable",l.draggable)},inputs:{dndDraggable:"dndDraggable",dndEffectAllowed:"dndEffectAllowed",dndType:"dndType",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"},standalone:!0})}return s})(),L=(()=>{class s{elementRef;constructor(n){this.elementRef=n}ngOnInit(){this.elementRef.nativeElement.style.pointerEvents="none"}static \u0275fac=function(e){return new(e||s)(a.Y36(a.SBq))};static \u0275dir=a.lG2({type:s,selectors:[["","dndPlaceholderRef",""]],standalone:!0})}return s})(),U=(()=>{class s{ngZone;elementRef;renderer;dndDropzone="";dndEffectAllowed="uninitialized";dndAllowExternal=!1;dndHorizontal=!1;dndDragoverClass="dndDragover";dndDropzoneDisabledClass="dndDropzoneDisabled";dndDragover=new a.vpe;dndDrop=new a.vpe;dndPlaceholderRef;placeholder=null;disabled=!1;constructor(n,e,l){this.ngZone=n,this.elementRef=e,this.renderer=l}set dndDisableIf(n){this.disabled=n,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}set dndDisableDropIf(n){this.dndDisableIf=n}ngAfterViewInit(){this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.addEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragEnter(n){if(!0===n._dndDropzoneActive)return void this.cleanupDragoverState();if(null==n._dndDropzoneActive){const l=document.elementFromPoint(n.clientX,n.clientY);this.elementRef.nativeElement.contains(l)&&(n._dndDropzoneActive=!0)}const e=m(n);this.isDropAllowed(e)&&n.preventDefault()}onDragOver(n){if(n.defaultPrevented)return;const e=m(n);if(!this.isDropAllowed(e))return;this.checkAndUpdatePlaceholderPosition(n);const l=E(n,this.dndEffectAllowed);"none"!==l?(n.preventDefault(),u(n,l),this.dndDragover.emit(n),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)):this.cleanupDragoverState()}onDrop(n){try{const e=m(n);if(!this.isDropAllowed(e))return;const l=function P(s,t){const n=C(s);return!0===t?null!==n&&y(n)?JSON.parse(s.dataTransfer?.getData(n)??"{}"):{}:null!==n?JSON.parse(s.dataTransfer?.getData(n)??"{}"):{}}(n,D());if(!this.isDropAllowed(l.type))return;n.preventDefault();const p=E(n);if(u(n,p),"none"===p)return;const d=this.getPlaceholderIndex();if(-1===d)return;this.dndDrop.emit({event:n,dropEffect:p,isExternal:D(),data:l.data,index:d,type:e}),n.stopPropagation()}finally{this.cleanupDragoverState()}}onDragLeave(n){n.preventDefault(),n.stopPropagation(),null==n._dndDropzoneActive&&this.elementRef.nativeElement.contains(n.relatedTarget)?n._dndDropzoneActive=!0:(this.cleanupDragoverState(),u(n,"none"))}dragEnterEventHandler=n=>this.onDragEnter(n);dragOverEventHandler=n=>this.onDragOver(n);dragLeaveEventHandler=n=>this.onDragLeave(n);isDropAllowed(n){if(this.disabled||D()&&!this.dndAllowExternal)return!1;if(!this.dndDropzone||!n)return!0;if(!Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return-1!==this.dndDropzone.indexOf(n)}tryGetPlaceholder(){return typeof this.dndPlaceholderRef<"u"?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}removePlaceholderFromDOM(){null!==this.placeholder&&null!==this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}checkAndUpdatePlaceholderPosition(n){if(null===this.placeholder)return;this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);const e=function H(s,t){let n=t;for(;n.parentNode!==s;){if(!n.parentNode)return null;n=n.parentNode}return n}(this.elementRef.nativeElement,n.target);null!==e&&e!==this.placeholder&&(function M(s,t,n){const e=t.getBoundingClientRect();return n?s.clientX<e.left+e.width/2:s.clientY<e.top+e.height/2}(n,e,this.dndHorizontal)?e.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,e):e.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,e.nextSibling))}getPlaceholderIndex(){if(null!==this.placeholder)return Array.prototype.indexOf.call(this.elementRef.nativeElement.children,this.placeholder)}cleanupDragoverState(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}static \u0275fac=function(e){return new(e||s)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.Qsj))};static \u0275dir=a.lG2({type:s,selectors:[["","dndDropzone",""]],contentQueries:function(e,l,p){if(1&e&&a.Suo(p,L,5),2&e){let d;a.iGM(d=a.CRH())&&(l.dndPlaceholderRef=d.first)}},hostBindings:function(e,l){1&e&&a.NdJ("drop",function(d){return l.onDrop(d)})},inputs:{dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed",dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"},standalone:!0})}return s})(),B=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=a.oAB({type:s});static \u0275inj=a.cJS({})}return s})();var _=i(8944),V=i(2898),Z=i(2274),Y=i(2757),I=i(8874);function $(s,t){1&s&&(a.TgZ(0,"div",6)(1,"button",7),a._uU(2,"Select here"),a.qZA(),a._UZ(3,"handle",8)(4,"handle",9),a.qZA()),2&s&&a.ekj("custom-node_selected",t.$implicit.selected())}function G(s,t){if(1&s&&(a.O4$(),a._UZ(0,"path",10)),2&s){const n=t.$implicit;a.uIk("d",n.path())("stroke",n.selected()?"#0f4c75":"#bbe1fa")}}const h={title:"Drag and drop nodes",mdFile:"./index.md",category:k.Z,demos:{DragAndDropNodesDemoComponent:(()=>{class s{constructor(){this.nodes=[{id:crypto.randomUUID(),point:{x:10,y:150},type:"html-template"}],this.edges=[]}createNode({event:n}){const e=this.vflow.documentPointToFlowPoint({x:n.x,y:n.y});this.nodes=[...this.nodes,{id:crypto.randomUUID(),point:e,type:"html-template"}]}connect({source:n,target:e}){this.edges=[...this.edges,{id:`${n} -> ${e}`,source:n,target:e}]}static#n=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275cmp=a.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,l){if(1&e&&a.Gf(_.t,5),2&e){let p;a.iGM(p=a.CRH())&&(l.vflow=p.first)}},standalone:!0,features:[a.jDz],decls:8,vars:2,consts:[[1,"sidebar"],["dndDraggable","",1,"custom-node","custom-node_draggable"],[1,"custom-node__button"],["dndDropzone","",3,"nodes","edges","dndDrop","onConnect"],["nodeHtml",""],["edge",""],[1,"custom-node"],["selectable","",1,"custom-node__button"],["type","source","position","right"],["type","target","position","left"],["selectable","","fill","none","stroke-width","2"]],template:function(e,l){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a._uU(3,"Drag here"),a.qZA()()(),a.TgZ(4,"vflow",3),a.NdJ("dndDrop",function(d){return l.createNode(d)})("onConnect",function(d){return l.connect(d)}),a.YNc(5,$,5,2,"ng-template",4),a.YNc(6,G,1,2,"ng-template",5),a.qZA(),a._uU(7,"`\n")),2&e&&(a.xp6(4),a.Q6J("nodes",l.nodes)("edges",l.edges))},dependencies:[V.p,_.t,Z.M,Y.h,I.QC,I.o6,B,F,U],styles:["[_nghost-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{padding:10px;height:400px;background-color:#3282b8}.custom-node[_ngcontent-%COMP%]{width:150px;height:100px;background:#bbe1fa;border:1px solid gray;border-radius:5px;display:flex;align-items:center;justify-content:center}.custom-node__button[_ngcontent-%COMP%]{border:0;outline:0;cursor:pointer;color:#fff;background-color:#1b262c;border-radius:4px;font-size:14px;font-weight:500;padding:4px 8px;display:inline-block;min-height:28px}.custom-node_draggable[_ngcontent-%COMP%]{width:100px;height:75px}.custom-node_selected[_ngcontent-%COMP%]{border-color:#1b262c}"],changeDetection:0})}return s})()},order:2},Q=[],X={DragAndDropNodesDemoComponent:[{title:"TypeScript",code:'<pre class="ngde hljs"><code lang="typescript" class="hljs language-typescript code-lines ngde"><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>, <span class="hljs-title class_ ngde">Component</span>, <span class="hljs-title class_ ngde">ViewChild</span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">\'@angular/core\'</span>;\n</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde">DndDropEvent</span>, <span class="hljs-title class_ ngde">DndModule</span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">\'ngx-drag-drop\'</span>;\n</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Connection" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Connection</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowModule" class="ng-doc-code-anchor ngde" data-link-type="NgModule" class="ngde">VflowModule</a></span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">\'projects/ngx-vflow-lib/src/public-api\'</span>;\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-meta ngde">@Component</span>({\n</span><span class="line ngde">  <span class="hljs-attr ngde">templateUrl</span>: <span class="hljs-string ngde">\'./drag-and-drop-nodes-demo.component.html\'</span>,\n</span><span class="line ngde">  <span class="hljs-attr ngde">styleUrls</span>: [<span class="hljs-string ngde">\'./drag-and-drop-nodes-demo.component.scss\'</span>],\n</span><span class="line ngde">  <span class="hljs-attr ngde">changeDetection</span>: <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>.<span class="hljs-property ngde">OnPush</span>,\n</span><span class="line ngde">  <span class="hljs-attr ngde">standalone</span>: <span class="hljs-literal ngde">true</span>,\n</span><span class="line ngde">  <span class="hljs-attr ngde">imports</span>: [<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowModule" class="ng-doc-code-anchor ngde" data-link-type="NgModule" class="ngde">VflowModule</a></span>, <span class="hljs-title class_ ngde">DndModule</span>]\n</span><span class="line ngde">})\n</span><span class="line ngde"><span class="hljs-keyword ngde">export</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">DragAndDropNodesDemoComponent</span> {\n</span><span class="line ngde">  <span class="hljs-meta ngde">@ViewChild</span>(<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>)\n</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> vflow!: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>\n</span><span class="line ngde">\n</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">nodes</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>[] = [\n</span><span class="line ngde">    {\n</span><span class="line ngde">      <span class="hljs-attr ngde">id</span>: crypto.<span class="hljs-title function_ ngde">randomUUID</span>(),\n</span><span class="line ngde">      <span class="hljs-attr ngde">point</span>: { <span class="hljs-attr ngde">x</span>: <span class="hljs-number ngde">10</span>, <span class="hljs-attr ngde">y</span>: <span class="hljs-number ngde">150</span> },\n</span><span class="line ngde">      <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">\'html-template\'</span>,\n</span><span class="line ngde">    },\n</span><span class="line ngde">  ]\n</span><span class="line ngde">\n</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">edges</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>[] = []\n</span><span class="line ngde">\n</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-title function_ ngde">createNode</span>(<span class="hljs-params ngde">{ event }: DndDropEvent</span>) {\n</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> point = <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">vflow</span>.<span class="hljs-title function_ ngde">documentPointToFlowPoint</span>({\n</span><span class="line ngde">      <span class="hljs-attr ngde">x</span>: event.<span class="hljs-property ngde">x</span>,\n</span><span class="line ngde">      <span class="hljs-attr ngde">y</span>: event.<span class="hljs-property ngde">y</span>\n</span><span class="line ngde">    })\n</span><span class="line ngde">\n</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">nodes</span> = [...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">nodes</span>, {\n</span><span class="line ngde">      <span class="hljs-attr ngde">id</span>: crypto.<span class="hljs-title function_ ngde">randomUUID</span>(),\n</span><span class="line ngde">      point,\n</span><span class="line ngde">      <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">\'html-template\'</span>\n</span><span class="line ngde">    }]\n</span><span class="line ngde">  }\n</span><span class="line ngde">\n</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-title function_ ngde">connect</span>(<span class="hljs-params ngde">{ source, target }: <a href="/api/ngx-vflow/interfaces/Connection" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Connection</a></span>) {\n</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">edges</span> = [...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">edges</span>, {\n</span><span class="line ngde">      <span class="hljs-attr ngde">id</span>: <span class="hljs-string ngde">`<span class="hljs-subst ngde">${source}</span> -> <span class="hljs-subst ngde">${target}</span>`</span>,\n</span><span class="line ngde">      source,\n</span><span class="line ngde">      target\n</span><span class="line ngde">    }]\n</span><span class="line ngde">  }\n</span><span class="line ngde">}\n</span></code></pre>'},{title:"HTML",code:'<pre class="ngde hljs"><code lang="html" class="hljs language-html code-lines ngde"><span class="line ngde"><span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">div</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"sidebar"</span>></span>\n</span><span class="line ngde">  &#x3C;<span class="hljs-name ngde">div</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">    </span><span class="hljs-attr ngde">dndDraggable</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">    </span><span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node custom-node_draggable"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">    ></span>\n</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">button</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node__button"</span>></span>Drag here<span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">button</span>></span>\n</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>\n</span><span class="line ngde">\n</span><span class="line ngde">&#x3C;<span class="hljs-name ngde">vflow</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">  </span><span class="hljs-attr ngde">dndDropzone</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">  (</span><span class="hljs-attr ngde">dndDrop</span>)=<span class="hljs-string ngde">"createNode($event)"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">  (</span><span class="hljs-attr ngde">onConnect</span>)=<span class="hljs-string ngde">"connect($event)"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">  [</span><span class="hljs-attr ngde">nodes</span>]=<span class="hljs-string ngde">"nodes"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">  [</span><span class="hljs-attr ngde">edges</span>]=<span class="hljs-string ngde">"edges"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">></span>\n</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">ng-template</span> <span class="hljs-attr ngde">nodeHtml</span> <span class="hljs-attr ngde">let-ctx</span>></span>\n</span><span class="line ngde">    &#x3C;<span class="hljs-name ngde">div</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      [</span><span class="hljs-attr ngde">class.custom-node_selected</span>]=<span class="hljs-string ngde">"ctx.selected()"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">    ></span>\n</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">button</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node__button"</span> <span class="hljs-attr ngde">selectable</span>></span>Select here<span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">button</span>></span>\n</span><span class="line ngde">\n</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"source"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"right"</span> /></span>\n</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"target"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"left"</span> /></span>\n</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>\n</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">ng-template</span>></span>\n</span><span class="line ngde">\n</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">ng-template</span> <span class="hljs-attr ngde">edge</span> <span class="hljs-attr ngde">let-ctx</span>></span>\n</span><span class="line ngde">    &#x3C;<span class="hljs-name ngde">svg:path</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">selectable</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      [</span><span class="hljs-attr ngde">attr.d</span>]=<span class="hljs-string ngde">"ctx.path()"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      [</span><span class="hljs-attr ngde">attr.stroke</span>]=<span class="hljs-string ngde">"ctx.selected() ? \'#0f4c75\' : \'#bbe1fa\'"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">fill</span>=<span class="hljs-string ngde">"none"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">      </span><span class="hljs-attr ngde">stroke-width</span>=<span class="hljs-string ngde">"2"</span><span class="hljs-tag ngde"></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">    /></span>\n</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">ng-template</span>></span>\n</span><span class="line ngde"><span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">vflow</span>></span>`\n</span></code></pre>'},{title:"SCSS",code:'<pre class="ngde hljs"><code lang="scss" class="hljs language-scss code-lines ngde"><span class="line ngde"><span class="hljs-selector-pseudo ngde">:host</span> {\n</span><span class="line ngde">  <span class="hljs-attribute ngde">display</span>: flex;\n</span><span class="line ngde">}\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-selector-class ngde">.sidebar</span> {\n</span><span class="line ngde">  <span class="hljs-attribute ngde">padding</span>: <span class="hljs-number ngde">10px</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">400px</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">background-color</span>: <span class="hljs-number ngde">#3282b8</span>;\n</span><span class="line ngde">}\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-selector-class ngde">.custom-node</span> {\n</span><span class="line ngde">  <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">150px</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">100px</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">background</span>: <span class="hljs-number ngde">#bbe1fa</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">border</span>: <span class="hljs-number ngde">1px</span> solid gray;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">border-radius</span>: <span class="hljs-number ngde">5px</span>;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">display</span>: flex;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">align-items</span>: center;\n</span><span class="line ngde">  <span class="hljs-attribute ngde">justify-content</span>: center;\n</span><span class="line ngde">\n</span><span class="line ngde">  &#x26;__button {\n</span><span class="line ngde">    <span class="hljs-attribute ngde">border</span>: <span class="hljs-number ngde">0</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">outline</span>: <span class="hljs-number ngde">0</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">cursor</span>: pointer;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">color</span>: white;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">background-color</span>: <span class="hljs-number ngde">#1b262c</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">border-radius</span>: <span class="hljs-number ngde">4px</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">font-size</span>: <span class="hljs-number ngde">14px</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">font-weight</span>: <span class="hljs-number ngde">500</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">padding</span>: <span class="hljs-number ngde">4px</span> <span class="hljs-number ngde">8px</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">display</span>: inline-block;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">min-height</span>: <span class="hljs-number ngde">28px</span>;\n</span><span class="line ngde">  }\n</span><span class="line ngde">\n</span><span class="line ngde">  &#x26;_draggable {\n</span><span class="line ngde">    <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">100px</span>;\n</span><span class="line ngde">    <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">75px</span>;\n</span><span class="line ngde">  }\n</span><span class="line ngde">\n</span><span class="line ngde">  &#x26;_selected {\n</span><span class="line ngde">    <span class="hljs-attribute ngde">border-color</span>: <span class="hljs-number ngde">#1b262c</span>;\n</span><span class="line ngde">  }\n</span><span class="line ngde">}\n</span></code></pre>'}]};let R=(()=>{class s extends v.a{constructor(){super(),this.routePrefix="",this.pageType="guide",this.pageContent='<h1 id="drag-and-drop-nodes" class="ngde">Drag and drop nodes<a title="Link to heading" class="ng-doc-header-link ngde" href="/workshops/drag-and-drop-nodes#drag-and-drop-nodes"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h1><p class="ngde">This workshop will show you how to implement dynamic node creation with basic drag and drop implementation.</p><p class="ngde">This implementation uses <code class="ngde">documentPointToFlowPoint()</code> method of <code class="ngde ng-doc-code-with-link" class="ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></code> that translates document coordinate to vflow coordinate.</p><ng-doc-demo componentname="DragAndDropNodesDemoComponent" indexable="false" class="ngde"><div id="options" class="ngde">{"expanded":true}</div></ng-doc-demo>',this.editSourceFileUrl="https://github.com/artem-mangilev/ngx-vflow/edit/main/projects/ngx-vflow-demo/src/app/categories/workshops/pages/drag-and-drop-nodes/index.md?message=docs(drag-and-drop-nodes): describe your changes here...",this.page=h,this.demoAssets=X}static#n=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275cmp=a.Xpm({type:s,selectors:[["ng-doc-page-workshops-drag-and-drop-nodes"]],standalone:!0,features:[a._Bn([{provide:v.a,useExisting:s},Q,h.providers??[]]),a.qOj,a.jDz],decls:1,vars:0,template:function(e,l){1&e&&a._UZ(0,"ng-doc-page")},dependencies:[T.z],encapsulation:2,changeDetection:0})}return s})();const W=[{...(0,A.isRoute)(h.route)?h.route:{},path:"",component:R,title:"Drag and drop nodes"}]}}]);
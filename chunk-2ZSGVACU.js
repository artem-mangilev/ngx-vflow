import{a as _n}from"./chunk-7PPUGJHC.js";import"./chunk-NGK3AQVU.js";import{k as ln,z as x}from"./chunk-AQENXFQJ.js";import{k as cn}from"./chunk-NA7FJBPQ.js";import{a as on}from"./chunk-ZBKCENK6.js";import"./chunk-G5N4YGVJ.js";import{a as A}from"./chunk-AKRIWIS4.js";import{T as On}from"./chunk-QMHLIXQX.js";import{$b as O,Ac as R,Db as h,Eb as Q,Ga as $,Gb as Y,Ha as H,Ob as Z,Qb as J,Rb as K,ac as N,bc as F,fc as X,hc as T,ic as nn,pb as G,qc as en,rc as sn,tc as tn,vc as an,wa as k,zc as rn}from"./chunk-Z42XPK5A.js";import{a as B,b as q,g as Sn,i as j}from"./chunk-ODLL2QMY.js";var Dn=Sn(On());var a,xn=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&xn.decode();var v=null;function C(){return(v===null||v.byteLength===0)&&(v=new Uint8Array(a.memory.buffer)),v}function g(s,n){return s=s>>>0,xn.decode(C().subarray(s,s+n))}function u(s){let n=a.__externref_table_alloc();return a.__wbindgen_export_2.set(n,s),n}function p(s,n){try{return s.apply(this,n)}catch(e){let t=u(e);a.__wbindgen_exn_store(t)}}function c(s){return s==null}var w=0,D=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Nn=typeof D.encodeInto=="function"?function(s,n){return D.encodeInto(s,n)}:function(s,n){let e=D.encode(s);return n.set(e),{read:s.length,written:e.length}};function b(s,n,e){if(e===void 0){let d=D.encode(s),l=n(d.length,1)>>>0;return C().subarray(l,l+d.length).set(d),w=d.length,l}let t=s.length,r=n(t,1)>>>0,i=C(),o=0;for(;o<t;o++){let d=s.charCodeAt(o);if(d>127)break;i[r+o]=d}if(o!==t){o!==0&&(s=s.slice(o)),r=e(r,t,t=o+s.length*3,1)>>>0;let d=C().subarray(r+o,r+t),l=Nn(s,d);o+=l.written,r=e(r,t,o,1)>>>0}return w=o,r}var y=null;function f(){return(y===null||y.buffer.detached===!0||y.buffer.detached===void 0&&y.buffer!==a.memory.buffer)&&(y=new DataView(a.memory.buffer)),y}var pn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>{a.__wbindgen_export_6.get(s.dtor)(s.a,s.b)});function gn(s,n,e,t){let r={a:s,b:n,cnt:1,dtor:e},i=(...o)=>{r.cnt++;let d=r.a;r.a=0;try{return t(d,r.b,...o)}finally{--r.cnt===0?(a.__wbindgen_export_6.get(r.dtor)(d,r.b),pn.unregister(r)):r.a=d}};return i.original=r,pn.register(i,r,r),i}function V(s){let n=typeof s;if(n=="number"||n=="boolean"||s==null)return`${s}`;if(n=="string")return`"${s}"`;if(n=="symbol"){let r=s.description;return r==null?"Symbol":`Symbol(${r})`}if(n=="function"){let r=s.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(s)){let r=s.length,i="[";r>0&&(i+=V(s[0]));for(let o=1;o<r;o++)i+=", "+V(s[o]);return i+="]",i}let e=/\[object ([^\]]+)\]/.exec(toString.call(s)),t;if(e&&e.length>1)t=e[1];else return toString.call(s);if(t=="Object")try{return"Object("+JSON.stringify(s)+")"}catch{return"Object"}return s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:t}function _(s){let n=a.__wbindgen_export_2.get(s);return a.__externref_table_dealloc(s),n}function dn(s,n){if(!(s instanceof n))throw new Error(`expected instance of ${n.name}`)}function Tn(s,n,e){a.closure389_externref_shim(s,n,e)}function An(s,n){a._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h65dcf57c944a5e65(s,n)}function Vn(s,n,e,t){a.closure57_externref_shim(s,n,e,t)}var Qn=Object.freeze({Normal:0,0:"Normal",None:1,1:"None"}),Yn=Object.freeze({None:0,0:"None",Brotli:1,1:"Brotli"}),Zn=Object.freeze({Monotonic:0,0:"Monotonic",Straight:1,1:"Straight",SimpleQuadratic:2,2:"SimpleQuadratic",AdaptiveBezier:3,3:"AdaptiveBezier"}),Jn=Object.freeze({Forward:0,0:"Forward",Back:1,1:"Back",Both:2,2:"Both",None:3,3:"None"}),Kn=Object.freeze({Solid:0,0:"Solid",Dashed:1,1:"Dashed",Dotted:2,2:"Dotted"}),Xn=Object.freeze({Unchanged:0,0:"Unchanged",Modified:1,1:"Modified",Added:2,2:"Added",Removed:3,3:"Removed"}),ne=Object.freeze({C:0,0:"C",L:1,1:"L",R:2,2:"R"}),ee=Object.freeze({Normal:0,0:"Normal",Cluster:1,1:"Cluster"}),se=Object.freeze({TB:0,0:"TB",BT:1,1:"BT",LR:2,2:"LR",RL:3,3:"RL"}),te=Object.freeze({Rectangle:0,0:"Rectangle",Square:1,1:"Square",Circle:2,2:"Circle",Ellipse:3,3:"Ellipse",Triangle:4,4:"Triangle",Diamond:5,5:"Diamond",Plaintext:6,6:"Plaintext",Underline:7,7:"Underline"}),ae=Object.freeze({Solid:0,0:"Solid",Dashed:1,1:"Dashed",Dotted:2,2:"Dotted"});var En=["omit","same-origin","include"],In=["same-origin","no-cors","cors","navigate"],un=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_directedgraph_free(s>>>0,1)),S=class{__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,un.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_directedgraph_free(n,0)}constructor(n,e){let t=a.directedgraph_new(c(n)?0:u(n),c(e)?0:u(e));if(t[2])throw _(t[1]);return this.__wbg_ptr=t[0]>>>0,un.register(this,this.__wbg_ptr,this),this}opts(){let n=a.directedgraph_opts(this.__wbg_ptr);if(n[2])throw _(n[1]);return M.__wrap(n[0])}set_opts(n){let e=a.directedgraph_set_opts(this.__wbg_ptr,c(n)?0:u(n));if(e[1])throw _(e[0])}attrs(){let n=a.directedgraph_attrs(this.__wbg_ptr);if(n[2])throw _(n[1]);return I.__wrap(n[0])}new_vertex(n,e){let t=a.directedgraph_new_vertex(this.__wbg_ptr,c(n)?0:u(n),c(e)?0:u(e));if(t[2])throw _(t[1]);return m.__wrap(t[0])}new_edge(n,e,t,r){dn(n,m),dn(e,m);let i=a.directedgraph_new_edge(this.__wbg_ptr,n.__wbg_ptr,e.__wbg_ptr,c(t)?0:u(t),c(r)?0:u(r));if(i[2])throw _(i[1]);return E.__wrap(i[0])}layout(){let n=a.directedgraph_layout(this.__wbg_ptr);if(n[2])throw _(n[1]);return U.__wrap(n[0])}upload(){return a.directedgraph_upload(this.__wbg_ptr)}},re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_dotdirectedgraph_free(s>>>0,1));var ie=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_dotgraph_free(s>>>0,1));var oe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_dotparser_free(s>>>0,1));var le=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_dotundirectedgraph_free(s>>>0,1));var ce=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_edgeref_free(s>>>0,1));var fn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_edgeweakref_free(s>>>0,1)),E=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,fn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,fn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_edgeweakref_free(n,0)}source(){let n=a.edgeweakref_source(this.__wbg_ptr);return m.__wrap(n)}target(){let n=a.edgeweakref_target(this.__wbg_ptr);return m.__wrap(n)}set(n){let e=a.edgeweakref_set(this.__wbg_ptr,n);if(e[1])throw _(e[0])}to_json(){let n=a.edgeweakref_to_json(this.__wbg_ptr);if(n[2])throw _(n[1]);return _(n[0])}},_e=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_graphref_free(s>>>0,1));var wn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_graphweakref_free(s>>>0,1)),I=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,wn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,wn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_graphweakref_free(n,0)}set(n){let e=a.graphweakref_set(this.__wbg_ptr,n);if(e[1])throw _(e[0])}to_json(){let n=a.graphweakref_to_json(this.__wbg_ptr);if(n[2])throw _(n[1]);return _(n[0])}},pe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_intounderlyingbytesource_free(s>>>0,1));var ge=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_intounderlyingsink_free(s>>>0,1));var de=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_intounderlyingsource_free(s>>>0,1));var hn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_json_free(s>>>0,1)),L=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,hn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,hn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_json_free(n,0)}to_string(){let n,e;try{let i=a.json_to_string(this.__wbg_ptr);var t=i[0],r=i[1];if(i[3])throw t=0,r=0,_(i[2]);return n=t,e=r,g(t,r)}finally{a.__wbindgen_free(n,e,1)}}to_string_pretty(){let n,e;try{let i=a.json_to_string_pretty(this.__wbg_ptr);var t=i[0],r=i[1];if(i[3])throw t=0,r=0,_(i[2]);return n=t,e=r,g(t,r)}finally{a.__wbindgen_free(n,e,1)}}to_obj(){let n=a.json_to_obj(this.__wbg_ptr);if(n[2])throw _(n[1]);return _(n[0])}},bn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_ovizoptions_free(s>>>0,1)),M=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,bn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,bn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_ovizoptions_free(n,0)}get client_id(){let n,e;try{let t=a.__wbg_get_ovizoptions_client_id(this.__wbg_ptr);return n=t[0],e=t[1],g(t[0],t[1])}finally{a.__wbindgen_free(n,e,1)}}set client_id(n){let e=b(n,a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;a.__wbg_set_ovizoptions_client_id(this.__wbg_ptr,e,t)}get client_secret(){let n,e;try{let t=a.__wbg_get_ovizoptions_client_secret(this.__wbg_ptr);return n=t[0],e=t[1],g(t[0],t[1])}finally{a.__wbindgen_free(n,e,1)}}set client_secret(n){let e=b(n,a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;a.__wbg_set_ovizoptions_client_secret(this.__wbg_ptr,e,t)}get graph_id(){let n,e;try{let t=a.__wbg_get_ovizoptions_graph_id(this.__wbg_ptr);return n=t[0],e=t[1],g(t[0],t[1])}finally{a.__wbindgen_free(n,e,1)}}set graph_id(n){let e=b(n,a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;a.__wbg_set_ovizoptions_graph_id(this.__wbg_ptr,e,t)}get version_key(){let n=a.__wbg_get_ovizoptions_version_key(this.__wbg_ptr),e;return n[0]!==0&&(e=g(n[0],n[1]).slice(),a.__wbindgen_free(n[0],n[1]*1,1)),e}set version_key(n){var e=c(n)?0:b(n,a.__wbindgen_malloc,a.__wbindgen_realloc),t=w;a.__wbg_set_ovizoptions_version_key(this.__wbg_ptr,e,t)}get debug(){let n=a.__wbg_get_ovizoptions_debug(this.__wbg_ptr);return n===16777215?void 0:n!==0}set debug(n){a.__wbg_set_ovizoptions_debug(this.__wbg_ptr,c(n)?16777215:n?1:0)}},yn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_positioneddirectedgraph_free(s>>>0,1)),U=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,yn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,yn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_positioneddirectedgraph_free(n,0)}to_svg(){let n=a.positioneddirectedgraph_to_svg(this.__wbg_ptr);return W.__wrap(n)}to_json(){let n=a.positioneddirectedgraph_to_json(this.__wbg_ptr);return L.__wrap(n)}},ue=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_positioneddotdirectedgraph_free(s>>>0,1));var mn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_svg_free(s>>>0,1)),W=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,mn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,mn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_svg_free(n,0)}to_string(){let n,e;try{let t=a.svg_to_string(this.__wbg_ptr);return n=t[0],e=t[1],g(t[0],t[1])}finally{a.__wbindgen_free(n,e,1)}}with_width_and_height(){let n=this.__destroy_into_raw(),e=a.svg_with_width_and_height(n);return s.__wrap(e)}},fe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_transport_free(s>>>0,1));var we=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_util_free(s>>>0,1));var he=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_vertexref_free(s>>>0,1));var jn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(s=>a.__wbg_vertexweakref_free(s>>>0,1)),m=class s{static __wrap(n){n=n>>>0;let e=Object.create(s.prototype);return e.__wbg_ptr=n,jn.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,jn.unregister(this),n}free(){let n=this.__destroy_into_raw();a.__wbg_vertexweakref_free(n,0)}set(n){let e=a.vertexweakref_set(this.__wbg_ptr,n);if(e[1])throw _(e[0])}to_json(){let n=a.vertexweakref_to_json(this.__wbg_ptr);if(n[2])throw _(n[1]);return _(n[0])}};function Ln(s,n){return j(this,null,function*(){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return yield WebAssembly.instantiateStreaming(s,n)}catch(t){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let e=yield s.arrayBuffer();return yield WebAssembly.instantiate(e,n)}else{let e=yield WebAssembly.instantiate(s,n);return e instanceof WebAssembly.Instance?{instance:e,module:s}:e}})}function Mn(){let s={};return s.wbg={},s.wbg.__wbg_abort_775ef1d17fc65868=function(n){n.abort()},s.wbg.__wbg_append_8c7dd8d641a5f01b=function(){return p(function(n,e,t,r,i){n.append(g(e,t),g(r,i))},arguments)},s.wbg.__wbg_buffer_09165b52af8c5237=function(n){return n.buffer},s.wbg.__wbg_buffer_609cc3eee51ed158=function(n){return n.buffer},s.wbg.__wbg_byobRequest_77d9adf63337edfb=function(n){let e=n.byobRequest;return c(e)?0:u(e)},s.wbg.__wbg_byteLength_e674b853d9c77e1d=function(n){return n.byteLength},s.wbg.__wbg_byteOffset_fd862df290ef848d=function(n){return n.byteOffset},s.wbg.__wbg_call_672a4d21634d4a24=function(){return p(function(n,e){return n.call(e)},arguments)},s.wbg.__wbg_call_7cccdd69e0791ae2=function(){return p(function(n,e,t){return n.call(e,t)},arguments)},s.wbg.__wbg_clearTimeout_0e8cd0a0bd366f41=function(n){clearTimeout(n)},s.wbg.__wbg_close_304cc1fef3466669=function(){return p(function(n){n.close()},arguments)},s.wbg.__wbg_close_5ce03e29be453811=function(){return p(function(n){n.close()},arguments)},s.wbg.__wbg_crypto_ed58b8e10a292839=function(n){return n.crypto},s.wbg.__wbg_done_769e5ede4b31c67b=function(n){return n.done},s.wbg.__wbg_enqueue_bb16ba72f537dc9e=function(){return p(function(n,e){n.enqueue(e)},arguments)},s.wbg.__wbg_error_7534b8e9a36f1ab4=function(n,e){let t,r;try{t=n,r=e,console.error(g(n,e))}finally{a.__wbindgen_free(t,r,1)}},s.wbg.__wbg_fetch_4465c2b10f21a927=function(n){return fetch(n)},s.wbg.__wbg_fetch_509096533071c657=function(n,e){return n.fetch(e)},s.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return p(function(n,e){n.getRandomValues(e)},arguments)},s.wbg.__wbg_get_67b2ba62fc30de12=function(){return p(function(n,e){return Reflect.get(n,e)},arguments)},s.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(n,e){return n[e]},s.wbg.__wbg_has_a5ea9117f258a0ec=function(){return p(function(n,e){return Reflect.has(n,e)},arguments)},s.wbg.__wbg_headers_9cb51cfd2ac780a4=function(n){return n.headers},s.wbg.__wbg_instanceof_ArrayBuffer_e14585432e3737fc=function(n){let e;try{e=n instanceof ArrayBuffer}catch{e=!1}return e},s.wbg.__wbg_instanceof_Response_f2cc20d9f7dfd644=function(n){let e;try{e=n instanceof Response}catch{e=!1}return e},s.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(n){let e;try{e=n instanceof Uint8Array}catch{e=!1}return e},s.wbg.__wbg_isSafeInteger_343e2beeeece1bb0=function(n){return Number.isSafeInteger(n)},s.wbg.__wbg_iterator_9a24c88df860dc65=function(){return Symbol.iterator},s.wbg.__wbg_length_a446193dc22c12f8=function(n){return n.length},s.wbg.__wbg_log_c222819a41e063d3=function(n){console.log(n)},s.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(n){return n.msCrypto},s.wbg.__wbg_new_018dcc2d6c8c2f6a=function(){return p(function(){return new Headers},arguments)},s.wbg.__wbg_new_23a2665fac83c611=function(n,e){try{var t={a:n,b:e},r=(o,d)=>{let l=t.a;t.a=0;try{return Vn(l,t.b,o,d)}finally{t.a=l}};return new Promise(r)}finally{t.a=t.b=0}},s.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},s.wbg.__wbg_new_78feb108b6472713=function(){return new Array},s.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},s.wbg.__wbg_new_a12002a7f91c75be=function(n){return new Uint8Array(n)},s.wbg.__wbg_new_c68d7209be747379=function(n,e){return new Error(g(n,e))},s.wbg.__wbg_new_e25e5aab09ff45db=function(){return p(function(){return new AbortController},arguments)},s.wbg.__wbg_newnoargs_105ed471475aaf50=function(n,e){return new Function(g(n,e))},s.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(n,e,t){return new Uint8Array(n,e>>>0,t>>>0)},s.wbg.__wbg_newwithlength_a381634e90c276d4=function(n){return new Uint8Array(n>>>0)},s.wbg.__wbg_newwithstrandinit_06c535e0a867c635=function(){return p(function(n,e,t){return new Request(g(n,e),t)},arguments)},s.wbg.__wbg_next_25feadfc0913fea9=function(n){return n.next},s.wbg.__wbg_next_6574e1a8a62d1055=function(){return p(function(n){return n.next()},arguments)},s.wbg.__wbg_node_02999533c4ea02e3=function(n){return n.node},s.wbg.__wbg_process_5c1d670bc53614b8=function(n){return n.process},s.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(n){queueMicrotask(n)},s.wbg.__wbg_queueMicrotask_d3219def82552485=function(n){return n.queueMicrotask},s.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return p(function(n,e){n.randomFillSync(e)},arguments)},s.wbg.__wbg_require_79b1e9274cde3c87=function(){return p(function(){return module.require},arguments)},s.wbg.__wbg_resolve_4851785c9c5f573d=function(n){return Promise.resolve(n)},s.wbg.__wbg_respond_1f279fa9f8edcb1c=function(){return p(function(n,e){n.respond(e>>>0)},arguments)},s.wbg.__wbg_setTimeout_51ff9917e876a1da=function(n,e){return setTimeout(n,e>>>0)},s.wbg.__wbg_set_37837023f3d740e8=function(n,e,t){n[e>>>0]=t},s.wbg.__wbg_set_3f1d0b984ed272ed=function(n,e,t){n[e]=t},s.wbg.__wbg_set_65595bdd868b3009=function(n,e,t){n.set(e,t>>>0)},s.wbg.__wbg_setbody_5923b78a95eedf29=function(n,e){n.body=e},s.wbg.__wbg_setcredentials_c3a22f1cd105a2c6=function(n,e){n.credentials=En[e]},s.wbg.__wbg_setheaders_834c0bdb6a8949ad=function(n,e){n.headers=e},s.wbg.__wbg_setmethod_3c5280fe5d890842=function(n,e,t){n.method=g(e,t)},s.wbg.__wbg_setmode_5dc300b865044b65=function(n,e){n.mode=In[e]},s.wbg.__wbg_setsignal_75b21ef3a81de905=function(n,e){n.signal=e},s.wbg.__wbg_signal_aaf9ad74119f20a4=function(n){return n.signal},s.wbg.__wbg_stack_0ed75d68575b0f3c=function(n,e){let t=e.stack,r=b(t,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;f().setInt32(n+4*1,i,!0),f().setInt32(n+4*0,r,!0)},s.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){let n=typeof global>"u"?null:global;return c(n)?0:u(n)},s.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){let n=typeof globalThis>"u"?null:globalThis;return c(n)?0:u(n)},s.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){let n=typeof self>"u"?null:self;return c(n)?0:u(n)},s.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){let n=typeof window>"u"?null:window;return c(n)?0:u(n)},s.wbg.__wbg_status_f6360336ca686bf0=function(n){return n.status},s.wbg.__wbg_stringify_f7ed6987935b4a24=function(){return p(function(n){return JSON.stringify(n)},arguments)},s.wbg.__wbg_subarray_aa9065fa9dc5df96=function(n,e,t){return n.subarray(e>>>0,t>>>0)},s.wbg.__wbg_text_7805bea50de2af49=function(){return p(function(n){return n.text()},arguments)},s.wbg.__wbg_then_44b73946d2fb3e7d=function(n,e){return n.then(e)},s.wbg.__wbg_then_48b406749878a531=function(n,e,t){return n.then(e,t)},s.wbg.__wbg_url_ae10c34ca209681d=function(n,e){let t=e.url,r=b(t,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;f().setInt32(n+4*1,i,!0),f().setInt32(n+4*0,r,!0)},s.wbg.__wbg_value_cd1ffa7b1ab794f1=function(n){return n.value},s.wbg.__wbg_versions_c71aa1626a93e0a1=function(n){return n.versions},s.wbg.__wbg_view_fd8a56e8983f448d=function(n){let e=n.view;return c(e)?0:u(e)},s.wbg.__wbg_warn_4ca3906c248c47c4=function(n){console.warn(n)},s.wbg.__wbindgen_as_number=function(n){return+n},s.wbg.__wbindgen_bigint_from_i64=function(n){return n},s.wbg.__wbindgen_bigint_from_u64=function(n){return BigInt.asUintN(64,n)},s.wbg.__wbindgen_bigint_get_as_i64=function(n,e){let t=e,r=typeof t=="bigint"?t:void 0;f().setBigInt64(n+8*1,c(r)?BigInt(0):r,!0),f().setInt32(n+4*0,!c(r),!0)},s.wbg.__wbindgen_boolean_get=function(n){let e=n;return typeof e=="boolean"?e?1:0:2},s.wbg.__wbindgen_cb_drop=function(n){let e=n.original;return e.cnt--==1?(e.a=0,!0):!1},s.wbg.__wbindgen_closure_wrapper2975=function(n,e,t){return gn(n,e,390,Tn)},s.wbg.__wbindgen_closure_wrapper4398=function(n,e,t){return gn(n,e,782,An)},s.wbg.__wbindgen_debug_string=function(n,e){let t=V(e),r=b(t,a.__wbindgen_malloc,a.__wbindgen_realloc),i=w;f().setInt32(n+4*1,i,!0),f().setInt32(n+4*0,r,!0)},s.wbg.__wbindgen_error_new=function(n,e){return new Error(g(n,e))},s.wbg.__wbindgen_in=function(n,e){return n in e},s.wbg.__wbindgen_init_externref_table=function(){let n=a.__wbindgen_export_2,e=n.grow(4);n.set(0,void 0),n.set(e+0,void 0),n.set(e+1,null),n.set(e+2,!0),n.set(e+3,!1)},s.wbg.__wbindgen_is_bigint=function(n){return typeof n=="bigint"},s.wbg.__wbindgen_is_function=function(n){return typeof n=="function"},s.wbg.__wbindgen_is_object=function(n){let e=n;return typeof e=="object"&&e!==null},s.wbg.__wbindgen_is_string=function(n){return typeof n=="string"},s.wbg.__wbindgen_is_undefined=function(n){return n===void 0},s.wbg.__wbindgen_jsval_eq=function(n,e){return n===e},s.wbg.__wbindgen_jsval_loose_eq=function(n,e){return n==e},s.wbg.__wbindgen_memory=function(){return a.memory},s.wbg.__wbindgen_number_get=function(n,e){let t=e,r=typeof t=="number"?t:void 0;f().setFloat64(n+8*1,c(r)?0:r,!0),f().setInt32(n+4*0,!c(r),!0)},s.wbg.__wbindgen_number_new=function(n){return n},s.wbg.__wbindgen_string_get=function(n,e){let t=e,r=typeof t=="string"?t:void 0;var i=c(r)?0:b(r,a.__wbindgen_malloc,a.__wbindgen_realloc),o=w;f().setInt32(n+4*1,o,!0),f().setInt32(n+4*0,i,!0)},s.wbg.__wbindgen_string_new=function(n,e){return g(n,e)},s.wbg.__wbindgen_throw=function(n,e){throw new Error(g(n,e))},s}function Un(s,n){return a=s.exports,vn.__wbindgen_wasm_module=n,y=null,v=null,a.__wbindgen_start(),a}function vn(s){return j(this,null,function*(){if(a!==void 0)return a;typeof s<"u"&&(Object.getPrototypeOf(s)===Object.prototype?{module_or_path:s}=s:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof s>"u"&&(s=new URL("vizdom_ts_bg.wasm",import.meta.url));let n=Mn();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));let{instance:e,module:t}=yield Ln(yield s,n);return Un(e,t)})}var zn=vn;function Pn(s,n){if(s&1){let e=X();O(0,"div",2),T("click",function(){let r=$(e).$implicit,i=nn();return H(i.onNodeClick(r.node))}),tn(1),F(2,"handle",3)(3,"handle",4),N()}if(s&2){let e=n.$implicit;K("background-color",e.node.data().color),G(),an(" ",e.node.data().color," ")}}var Fn=(()=>{class s{constructor(){this.vflow=Q.required(x),this.nodes=h([]),this.edges=h([])}ngOnInit(){return j(this,null,function*(){try{yield zn("assets/vizdom/vizdom_ts_bg.wasm")}catch(e){console.error("Failed to initialize WebAssembly:",e)}this.layout([{id:crypto.randomUUID(),point:h({x:0,y:0}),type:"html-template",data:h({color:kn()}),draggable:h(!1)}])})}onNodeClick(e){let t=crypto.randomUUID(),r=[...this.nodes(),{id:t,point:h({x:0,y:0}),type:"html-template",draggable:h(!1),data:h({color:kn()})}],i=[...this.edges(),{source:e.id,target:t,id:`${e.id} -> ${t}`,curve:"smooth-step"}];this.layout(r,i)}fitView(){this.nodes().length>1&&this.vflow().fitView({duration:750})}layout(e,t=[]){let r=new S({layout:{margin_x:75}}),i=new Map,o=new Map;e.forEach(l=>{let P=r.new_vertex({layout:{shape_w:150,shape_h:100},render:{id:l.id}},{compute_bounding_box:!1});i.set(l.id,P),o.set(l.id,l)}),t.forEach(l=>{r.new_edge(i.get(l.source),i.get(l.target))}),r.layout().to_json().to_obj().nodes.forEach(l=>{o.get(l.id).point.set({x:l.x,y:l.y})}),this.nodes.set(e),this.edges.set(t)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=k({type:s,selectors:[["ng-component"]],viewQuery:function(t,r){t&1&&en(r.vflow,x,5),t&2&&sn()},standalone:!0,features:[R],decls:2,vars:3,consts:[["view","auto",3,"onNodesChange.add","minZoom","nodes","edges"],["nodeHtml",""],[1,"custom-node",3,"click"],["type","source","position","bottom"],["type","target","position","top"]],template:function(t,r){t&1&&(O(0,"vflow",0),T("onNodesChange.add",function(){return r.fitView()}),Z(1,Pn,4,3,"ng-template",1),N()),t&2&&J("minZoom",.1)("nodes",r.nodes())("edges",r.edges())},dependencies:[x,cn,ln],styles:["[_nghost-%COMP%]{width:100%;height:100%}.custom-node[_ngcontent-%COMP%]{width:100px;height:50px;background:#bbe1fa;border:1px solid gray;border-radius:5px;display:flex;align-items:center;justify-content:center}"],changeDetection:0})}}return s})();function kn(){let s=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],n="#";for(let e=0;e<6;e++){let t=Math.floor(Math.random()*s.length);n+=s[t]}return n}var Bn={title:"Vizdom layout",mdFile:"./index.md",category:_n,demos:{VizdomLayoutDemoComponent:Fn},order:2},z=Bn;var Rn=[];var qn={VizdomLayoutDemoComponent:[{title:"TypeScript",code:`<pre class="ngde hljs"><code lang="typescript" class="hljs language-typescript code-lines ngde"><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>, <span class="hljs-title class_ ngde">Component</span>, <span class="hljs-title class_ ngde">OnInit</span>, signal, viewChild, <span class="hljs-title class_ ngde">WritableSignal</span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'@angular/core'</span>;
</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> init, { <span class="hljs-title class_ ngde">DirectedGraph</span>, <span class="hljs-title class_ ngde">VertexWeakRef</span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'@vizdom/vizdom-ts-web'</span>;
</span><span class="line ngde"><span class="hljs-keyword ngde">import</span> { <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/DynamicNode" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">DynamicNode</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/variables/Vflow" class="ng-doc-code-anchor ngde" data-link-type="Variable" class="ngde">Vflow</a></span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span> } <span class="hljs-keyword ngde">from</span> <span class="hljs-string ngde">'ngx-vflow'</span>;
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-meta ngde">@Component</span>({
</span><span class="line ngde">  <span class="hljs-attr ngde">templateUrl</span>: <span class="hljs-string ngde">'./vizdom-layout-demo.component.html'</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">styleUrls</span>: [<span class="hljs-string ngde">'./vizdom-layout-demo.component.scss'</span>],
</span><span class="line ngde">  <span class="hljs-attr ngde">changeDetection</span>: <span class="hljs-title class_ ngde">ChangeDetectionStrategy</span>.<span class="hljs-property ngde">OnPush</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">standalone</span>: <span class="hljs-literal ngde">true</span>,
</span><span class="line ngde">  <span class="hljs-attr ngde">imports</span>: [<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/variables/Vflow" class="ng-doc-code-anchor ngde" data-link-type="Variable" class="ngde">Vflow</a></span>],
</span><span class="line ngde">})
</span><span class="line ngde"><span class="hljs-keyword ngde">export</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">VizdomLayoutDemoComponent</span> <span class="hljs-keyword ngde">implements</span> <span class="hljs-title class_ ngde">OnInit</span> {
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> vflow = viewChild.required(<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/classes/VflowComponent" class="ng-doc-code-anchor ngde" data-link-type="Component" class="ngde">VflowComponent</a></span>);
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">nodes</span>: <span class="hljs-title class_ ngde">WritableSignal</span>&#x3C;<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/DynamicNode" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">DynamicNode</a></span>[]> = <span class="hljs-title function_ ngde">signal</span>([]);
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">public</span> <span class="hljs-attr ngde">edges</span>: <span class="hljs-title class_ ngde">WritableSignal</span>&#x3C;<span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>[]> = <span class="hljs-title function_ ngde">signal</span>([]);
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">async</span> <span class="hljs-title function_ ngde">ngOnInit</span>(): <span class="hljs-title class_ ngde">Promise</span>&#x3C;<span class="hljs-built_in ngde">void</span>> {
</span><span class="line ngde">    <span class="hljs-keyword ngde">try</span> {
</span><span class="line ngde">      <span class="hljs-keyword ngde">await</span> <span class="hljs-title function_ ngde">init</span>(<span class="hljs-string ngde">'assets/vizdom/vizdom_ts_bg.wasm'</span>);
</span><span class="line ngde">    } <span class="hljs-keyword ngde">catch</span> (error) {
</span><span class="line ngde">      <span class="hljs-variable language_ ngde">console</span>.<span class="hljs-title function_ ngde">error</span>(<span class="hljs-string ngde">'Failed to initialize WebAssembly:'</span>, error);
</span><span class="line ngde">    }
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-comment ngde">// default layout with one node</span>
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">layout</span>([
</span><span class="line ngde">      {
</span><span class="line ngde">        <span class="hljs-attr ngde">id</span>: crypto.<span class="hljs-title function_ ngde">randomUUID</span>(),
</span><span class="line ngde">        <span class="hljs-attr ngde">point</span>: <span class="hljs-title function_ ngde">signal</span>({ <span class="hljs-attr ngde">x</span>: <span class="hljs-number ngde">0</span>, <span class="hljs-attr ngde">y</span>: <span class="hljs-number ngde">0</span> }),
</span><span class="line ngde">        <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">'html-template'</span>,
</span><span class="line ngde">        <span class="hljs-attr ngde">data</span>: <span class="hljs-title function_ ngde">signal</span>({
</span><span class="line ngde">          <span class="hljs-attr ngde">color</span>: <span class="hljs-title function_ ngde">randomHex</span>(),
</span><span class="line ngde">        }),
</span><span class="line ngde">        <span class="hljs-attr ngde">draggable</span>: <span class="hljs-title function_ ngde">signal</span>(<span class="hljs-literal ngde">false</span>),
</span><span class="line ngde">      },
</span><span class="line ngde">    ]);
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-title function_ ngde">onNodeClick</span>(<span class="hljs-params ngde">node: <a href="/api/ngx-vflow/type-aliases/Node" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">Node</a></span>) {
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> newNodeId = crypto.<span class="hljs-title function_ ngde">randomUUID</span>();
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> <span class="hljs-attr ngde">nodes</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/DynamicNode" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">DynamicNode</a></span>[] = [
</span><span class="line ngde">      ...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">nodes</span>(),
</span><span class="line ngde">      {
</span><span class="line ngde">        <span class="hljs-attr ngde">id</span>: newNodeId,
</span><span class="line ngde">        <span class="hljs-attr ngde">point</span>: <span class="hljs-title function_ ngde">signal</span>({ <span class="hljs-attr ngde">x</span>: <span class="hljs-number ngde">0</span>, <span class="hljs-attr ngde">y</span>: <span class="hljs-number ngde">0</span> }),
</span><span class="line ngde">        <span class="hljs-attr ngde">type</span>: <span class="hljs-string ngde">'html-template'</span>,
</span><span class="line ngde">        <span class="hljs-attr ngde">draggable</span>: <span class="hljs-title function_ ngde">signal</span>(<span class="hljs-literal ngde">false</span>),
</span><span class="line ngde">        <span class="hljs-attr ngde">data</span>: <span class="hljs-title function_ ngde">signal</span>({
</span><span class="line ngde">          <span class="hljs-attr ngde">color</span>: <span class="hljs-title function_ ngde">randomHex</span>(),
</span><span class="line ngde">        }),
</span><span class="line ngde">      },
</span><span class="line ngde">    ];
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> <span class="hljs-attr ngde">edges</span>: <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a></span>[] = [
</span><span class="line ngde">      ...<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">edges</span>(),
</span><span class="line ngde">      {
</span><span class="line ngde">        <span class="hljs-attr ngde">source</span>: node.<span class="hljs-property ngde">id</span>,
</span><span class="line ngde">        <span class="hljs-attr ngde">target</span>: newNodeId,
</span><span class="line ngde">        <span class="hljs-attr ngde">id</span>: <span class="hljs-string ngde">\`<span class="hljs-subst ngde">\${node.id}</span> -> <span class="hljs-subst ngde">\${newNodeId}</span>\`</span>,
</span><span class="line ngde">        <span class="hljs-attr ngde">curve</span>: <span class="hljs-string ngde">'smooth-step'</span>,
</span><span class="line ngde">      },
</span><span class="line ngde">    ];
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">layout</span>(nodes, edges);
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">protected</span> <span class="hljs-title function_ ngde">fitView</span>(<span class="hljs-params ngde"></span>) {
</span><span class="line ngde">    <span class="hljs-comment ngde">// do not fit when there is initial node</span>
</span><span class="line ngde">    <span class="hljs-keyword ngde">if</span> (<span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">nodes</span>().<span class="hljs-property ngde">length</span> > <span class="hljs-number ngde">1</span>) {
</span><span class="line ngde">      <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-title function_ ngde">vflow</span>().<span class="hljs-title function_ ngde">fitView</span>({ <span class="hljs-attr ngde">duration</span>: <span class="hljs-number ngde">750</span> });
</span><span class="line ngde">    }
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-comment ngde">/**</span>
</span><span class="line ngde"><span class="hljs-comment ngde">   * Method that responsible to layout and render passed nodes and edges</span>
</span><span class="line ngde"><span class="hljs-comment ngde">   */</span>
</span><span class="line ngde">  <span class="hljs-keyword ngde">private</span> <span class="hljs-title function_ ngde">layout</span>(<span class="hljs-params ngde">nodesToLayout: <a href="/api/ngx-vflow/type-aliases/DynamicNode" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">DynamicNode</a>[], edgesToLayout: <a href="/api/ngx-vflow/interfaces/Edge" class="ng-doc-code-anchor ngde" data-link-type="Interface" class="ngde">Edge</a>[] = []</span>) {
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> graph = <span class="hljs-keyword ngde">new</span> <span class="hljs-title class_ ngde">DirectedGraph</span>({
</span><span class="line ngde">      <span class="hljs-attr ngde">layout</span>: {
</span><span class="line ngde">        <span class="hljs-attr ngde">margin_x</span>: <span class="hljs-number ngde">75</span>,
</span><span class="line ngde">      },
</span><span class="line ngde">    });
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-comment ngde">// DirectedGraph not provide VertexWeakRef ids so we need to store it somewhere</span>
</span><span class="line ngde">    <span class="hljs-comment ngde">// for later access</span>
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> vertices = <span class="hljs-keyword ngde">new</span> <span class="hljs-title class_ ngde">Map</span>&#x3C;<span class="hljs-built_in ngde">string</span>, <span class="hljs-title class_ ngde">VertexWeakRef</span>>();
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> nodes = <span class="hljs-keyword ngde">new</span> <span class="hljs-title class_ ngde">Map</span>&#x3C;<span class="hljs-built_in ngde">string</span>, <span class="hljs-title class_ ngde"><a href="/api/ngx-vflow/type-aliases/DynamicNode" class="ng-doc-code-anchor ngde" data-link-type="TypeAlias" class="ngde">DynamicNode</a></span>>();
</span><span class="line ngde">
</span><span class="line ngde">    nodesToLayout.<span class="hljs-title function_ ngde">forEach</span>(<span class="hljs-function ngde">(<span class="hljs-params ngde">n</span>) =></span> {
</span><span class="line ngde">      <span class="hljs-keyword ngde">const</span> v = graph.<span class="hljs-title function_ ngde">new_vertex</span>(
</span><span class="line ngde">        {
</span><span class="line ngde">          <span class="hljs-comment ngde">// For now we only can use static sized nodes</span>
</span><span class="line ngde">          <span class="hljs-attr ngde">layout</span>: {
</span><span class="line ngde">            <span class="hljs-attr ngde">shape_w</span>: <span class="hljs-number ngde">150</span>,
</span><span class="line ngde">            <span class="hljs-attr ngde">shape_h</span>: <span class="hljs-number ngde">100</span>,
</span><span class="line ngde">          },
</span><span class="line ngde">          <span class="hljs-attr ngde">render</span>: {
</span><span class="line ngde">            <span class="hljs-attr ngde">id</span>: n.<span class="hljs-property ngde">id</span>,
</span><span class="line ngde">          },
</span><span class="line ngde">        },
</span><span class="line ngde">        {
</span><span class="line ngde">          <span class="hljs-attr ngde">compute_bounding_box</span>: <span class="hljs-literal ngde">false</span>,
</span><span class="line ngde">        },
</span><span class="line ngde">      );
</span><span class="line ngde">
</span><span class="line ngde">      vertices.<span class="hljs-title function_ ngde">set</span>(n.<span class="hljs-property ngde">id</span>, v);
</span><span class="line ngde">      nodes.<span class="hljs-title function_ ngde">set</span>(n.<span class="hljs-property ngde">id</span>, n);
</span><span class="line ngde">    });
</span><span class="line ngde">
</span><span class="line ngde">    edgesToLayout.<span class="hljs-title function_ ngde">forEach</span>(<span class="hljs-function ngde">(<span class="hljs-params ngde">e</span>) =></span> {
</span><span class="line ngde">      graph.<span class="hljs-title function_ ngde">new_edge</span>(vertices.<span class="hljs-title function_ ngde">get</span>(e.<span class="hljs-property ngde">source</span>)!, vertices.<span class="hljs-title function_ ngde">get</span>(e.<span class="hljs-property ngde">target</span>)!);
</span><span class="line ngde">    });
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-comment ngde">// Compute layout with vizdom internal algorythm</span>
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> layout = graph.<span class="hljs-title function_ ngde">layout</span>().<span class="hljs-title function_ ngde">to_json</span>().<span class="hljs-title function_ ngde">to_obj</span>();
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-comment ngde">// Render nodes and edges based on this layout</span>
</span><span class="line ngde">    layout.<span class="hljs-property ngde">nodes</span>.<span class="hljs-title function_ ngde">forEach</span>(<span class="hljs-function ngde">(<span class="hljs-params ngde">n</span>) =></span> {
</span><span class="line ngde">      <span class="hljs-keyword ngde">const</span> node = nodes.<span class="hljs-title function_ ngde">get</span>(n.<span class="hljs-property ngde">id</span>!)!;
</span><span class="line ngde">
</span><span class="line ngde">      node.<span class="hljs-property ngde">point</span>.<span class="hljs-title function_ ngde">set</span>({ <span class="hljs-attr ngde">x</span>: n.<span class="hljs-property ngde">x</span>, <span class="hljs-attr ngde">y</span>: n.<span class="hljs-property ngde">y</span> });
</span><span class="line ngde">    });
</span><span class="line ngde">
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">nodes</span>.<span class="hljs-title function_ ngde">set</span>(nodesToLayout);
</span><span class="line ngde">    <span class="hljs-variable language_ ngde">this</span>.<span class="hljs-property ngde">edges</span>.<span class="hljs-title function_ ngde">set</span>(edgesToLayout);
</span><span class="line ngde">  }
</span><span class="line ngde">}
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-keyword ngde">function</span> <span class="hljs-title function_ ngde">randomHex</span>(<span class="hljs-params ngde"></span>) {
</span><span class="line ngde">  <span class="hljs-keyword ngde">const</span> hexValues = [<span class="hljs-number ngde">0</span>, <span class="hljs-number ngde">1</span>, <span class="hljs-number ngde">2</span>, <span class="hljs-number ngde">3</span>, <span class="hljs-number ngde">4</span>, <span class="hljs-number ngde">5</span>, <span class="hljs-number ngde">6</span>, <span class="hljs-number ngde">7</span>, <span class="hljs-number ngde">8</span>, <span class="hljs-number ngde">9</span>, <span class="hljs-string ngde">'A'</span>, <span class="hljs-string ngde">'B'</span>, <span class="hljs-string ngde">'C'</span>, <span class="hljs-string ngde">'D'</span>, <span class="hljs-string ngde">'E'</span>, <span class="hljs-string ngde">'F'</span>];
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">let</span> hex = <span class="hljs-string ngde">'#'</span>;
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">for</span> (<span class="hljs-keyword ngde">let</span> i = <span class="hljs-number ngde">0</span>; i &#x3C; <span class="hljs-number ngde">6</span>; i++) {
</span><span class="line ngde">    <span class="hljs-keyword ngde">const</span> index = <span class="hljs-title class_ ngde">Math</span>.<span class="hljs-title function_ ngde">floor</span>(<span class="hljs-title class_ ngde">Math</span>.<span class="hljs-title function_ ngde">random</span>() * hexValues.<span class="hljs-property ngde">length</span>);
</span><span class="line ngde">    hex += hexValues[index];
</span><span class="line ngde">  }
</span><span class="line ngde">
</span><span class="line ngde">  <span class="hljs-keyword ngde">return</span> hex;
</span><span class="line ngde">}
</span></code></pre>`},{title:"HTML",code:`<pre class="ngde hljs"><code lang="html" class="hljs language-html code-lines ngde"><span class="line ngde"><span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">vflow</span> <span class="hljs-attr ngde">view</span>=<span class="hljs-string ngde">"auto"</span> [<span class="hljs-attr ngde">minZoom</span>]=<span class="hljs-string ngde">"0.1"</span> [<span class="hljs-attr ngde">nodes</span>]=<span class="hljs-string ngde">"nodes()"</span> [<span class="hljs-attr ngde">edges</span>]=<span class="hljs-string ngde">"edges()"</span> (<span class="hljs-attr ngde">onNodesChange.add</span>)=<span class="hljs-string ngde">"fitView()"</span>></span>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">ng-template</span> <span class="hljs-attr ngde">let-ctx</span> <span class="hljs-attr ngde">nodeHtml</span>></span>
</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">div</span> <span class="hljs-attr ngde">class</span>=<span class="hljs-string ngde">"custom-node"</span> [<span class="hljs-attr ngde">style.background-color</span>]=<span class="hljs-string ngde">"ctx.node.data().color"</span> (<span class="hljs-attr ngde">click</span>)=<span class="hljs-string ngde">"onNodeClick(ctx.node)"</span>></span>
</span><span class="line ngde">      {{ ctx.node.data().color }}
</span><span class="line ngde">
</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"source"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"bottom"</span> /></span>
</span><span class="line ngde">      <span class="hljs-tag ngde">&#x3C;<span class="hljs-name ngde">handle</span> <span class="hljs-attr ngde">type</span>=<span class="hljs-string ngde">"target"</span> <span class="hljs-attr ngde">position</span>=<span class="hljs-string ngde">"top"</span> /></span>
</span><span class="line ngde">    <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">div</span>></span>
</span><span class="line ngde">  <span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">ng-template</span>></span>
</span><span class="line ngde"><span class="hljs-tag ngde">&#x3C;/<span class="hljs-name ngde">vflow</span>></span>
</span></code></pre>`},{title:"SCSS",code:`<pre class="ngde hljs"><code lang="scss" class="hljs language-scss code-lines ngde"><span class="line ngde"><span class="hljs-selector-pseudo ngde">:host</span> {
</span><span class="line ngde">  <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">100%</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">100%</span>;
</span><span class="line ngde">}
</span><span class="line ngde">
</span><span class="line ngde"><span class="hljs-selector-class ngde">.custom-node</span> {
</span><span class="line ngde">  <span class="hljs-attribute ngde">width</span>: <span class="hljs-number ngde">100px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">height</span>: <span class="hljs-number ngde">50px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">background</span>: <span class="hljs-number ngde">#bbe1fa</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">border</span>: <span class="hljs-number ngde">1px</span> solid gray;
</span><span class="line ngde">  <span class="hljs-attribute ngde">border-radius</span>: <span class="hljs-number ngde">5px</span>;
</span><span class="line ngde">  <span class="hljs-attribute ngde">display</span>: flex;
</span><span class="line ngde">  <span class="hljs-attribute ngde">align-items</span>: center;
</span><span class="line ngde">  <span class="hljs-attribute ngde">justify-content</span>: center;
</span><span class="line ngde">}
</span></code></pre>`}]},Cn=qn;var $n='<h1 id="vizdom-layout" class="ngde">Vizdom layout<a title="Link to heading" class="ng-doc-header-link ngde" href="/workshops/layout/vizdom-layout#vizdom-layout"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h1><p class="ngde">This is an example of using the <a href="https://github.com/vizdom-dev/vizdom-ts" class="ngde">vizdom</a> library for computing layout.</p><ng-doc-demo-pane componentname="VizdomLayoutDemoComponent" indexable="false" class="ngde"><div id="options" class="ngde">{}</div></ng-doc-demo-pane>',Hn=(()=>{class s extends A{constructor(){super(),this.routePrefix="",this.pageType="guide",this.pageContent=$n,this.editSourceFileUrl="https://github.com/artem-mangilev/ngx-vflow/edit/main/projects/ngx-vflow-demo/src/app/categories/workshops/categories/layout/pages/vizdom-layout/index.md?message=docs(vizdom-layout): describe your changes here...",this.page=z,this.demoAssets=Cn}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=k({type:s,selectors:[["ng-doc-page-workshops-layout-vizdom-layout"]],standalone:!0,features:[rn([{provide:A,useExisting:s},Rn,z.providers??[]]),Y,R],decls:1,vars:0,template:function(t,r){t&1&&F(0,"ng-doc-page")},dependencies:[on],encapsulation:2,changeDetection:0})}}return s})(),Gn=[q(B({},(0,Dn.isRoute)(z.route)?z.route:{}),{path:"",component:Hn,title:"Vizdom layout"})],Me=Gn;export{Hn as DynamicComponent,Me as default};
